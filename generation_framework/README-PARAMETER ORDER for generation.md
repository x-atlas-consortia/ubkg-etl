# Parameters and order for build_csv.sh / build_csv.py

## Background
Both the UBKG generation framework shell script **build_csv.sh** and the 
Python script **build_csv.py** take
as parameters a set of space-delimited acronyms that identify sets of assertions (onotologies).

Because some ontologies are based on classes that are
defined in other ontologies, the order in which parameters are 
listed can be important.

The **UBKG context** of a particular UBKG instance corresponds to the
ordered set of "sets of assertions" used to generate it.

# Contexts and contexts.ini
UBKG contexts can be specified with an optional file named **contexts.ini**. 
The contexts.ini file should contain sections for:

- a [Base Context] section, with a context name of *base*
- a [Contexts] section, for which each value is the name of a context and a set of additional SABs

Each value in the INI file should be a space-separated list of SABs--e.g., 
```
[Contexts]
hmsn=OBIB XCO HRAVS HUBMAP SENNET...
```

### NOTE
A number of factors usually preclude generating an entire context at once. The usual issue is machine memory.
The contexts.ini file is really more of a guide listing the order of SABs for a manual workflow.

## UMLS context
The rate limiting factor for the currency of the base context (below) is the release schedule of the UMLS data 
generated by the UBKG source framework. 
When a new UMLS release is available and the UMLS source CSVs are prepared, generate the
UMLS context by running *build_csv.sh* with the SAB *UMLS*.

## Base context
All UBKG instances should contain assertions from
the ontologies described [here](https://ubkg.docs.xconsortia.org/contexts/#umls-source-context-umls-graph).

## AZ (Azimuth)
The Azimuth to Cell Ontology mapping is currently added to application contexts separately, even though it is used in all
contexts. This allows for more frequent updates to the SAB.

## HubMAP/SenNet context
The HubMAP/SenNet knowledge graph should also include the assertions listed [here](https://ubkg.docs.xconsortia.org/contexts/#hubmapsennet-context).

## Data Distillery context

A Data Distillery KG includes assertions listed [here](https://ubkg.docs.xconsortia.org/contexts/#data-distillery-context).

## CFDE context
The CFDE context is a union of assertions from all CFDE-related UBKG projects, including
- HuBMAP
- SenNet
- Data Distillery